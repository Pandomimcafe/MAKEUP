<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pandomim Cafe - Fal Sistemi</title>
  <style>
    body { font-family: 'Segoe UI', sans-serif; background: linear-gradient(120deg, #ffe3e3, #ffd9a8); margin:0; padding:0; display:flex; justify-content:center; align-items:flex-start; min-height:100vh; }
    .container { width:100%; max-width:600px; background:#fff; border-radius:16px; box-shadow:0 8px 24px rgba(0,0,0,0.1); padding:20px; margin-top:20px; }
    header { background:#ff7f50; color:#fff; text-align:center; padding:20px; border-radius:12px 12px 0 0; }
    header h1 { margin:0; font-size:1.8rem; }
    header p { margin:8px 0 0; font-size:1rem; }
    .welcome-btn { display:block; width:100%; padding:14px; background:#ff7f50; color:#fff; border:none; border-radius:8px; font-size:1rem; cursor:pointer; margin:12px 0; }
    .welcome-btn:hover { opacity:0.9; }
    .field { margin:16px 0; }
    label { display:block; margin-bottom:8px; font-weight:bold; }
    input[type="radio"] { margin-right:8px; }
    input[type="text"] { display:block; width:100%; padding:12px; border:2px solid #ddd; border-radius:8px; margin-bottom:12px; }
    button { display:block; width:100%; padding:14px; background:#ff7f50; color:#fff; border:none; border-radius:8px; font-size:1rem; cursor:pointer; margin:12px 0; }
    button:hover { opacity:0.9; }
    .message { margin-top:20px; font-size:1.1rem; line-height:1.6; white-space:pre-wrap; }
    .footer-note { text-align:center; margin-top:40px; font-size:0.9rem; color:#333; }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>🔮 Pandomim Dünyasına Hoş Geldiniz!</h1>
      <p>Bugün kalbinin sesi sana rehberlik edecek.</p>
    </header>

    <button class="welcome-btn" onclick="window.location.href='https://pandomimcafe.github.io/PANDOM-MCAFE/'">1. Pandomim Cafe’yi bilmiyorum</button>
    <button class="welcome-btn" onclick="window.location.href='https://pandomimcafe.github.io/PANDOM-MCAFE/'">2. Duydum ama bakmaya gitmedim</button>
    <button class="welcome-btn" onclick="document.getElementById('falStep').style.display='block'">3. Biliyorum, fal bakmaya geldim :)</button>

    <div id="falStep" style="display:none">
      <div class="field">
        <label>1. Bugünkü hâlinizi nasıl tanımlarsınız?</label>
        <label><input type="radio" name="q0" value="harika">Harika</label>
        <label><input type="radio" name="q0" value="yorgun">Yorgun</label>
        <label><input type="radio" name="q0" value="duygusal">Duygusal</label>
        <label><input type="radio" name="q0" value="karmasik">Karmaşık</label>
      </div>
      <div class="field">
        <label>2. Odaklandığınız konu?</label>
        <label><input type="radio" name="q1" value="ask">Aşk</label>
        <label><input type="radio" name="q1" value="kariyer">Kariyer</label>
        <label><input type="radio" name="q1" value="para">Para</label>
        <label><input type="radio" name="q1" value="kendim">Kendim</label>
      </div>
      <div class="field">
        <label>3. Size ne umut veriyor?</label>
        <label><input type="radio" name="q2" value="iliskiler">İlişkiler</label>
        <label><input type="radio" name="q2" value="haber">Haber</label>
        <label><input type="radio" name="q2" value="his">His</label>
        <label><input type="radio" name="q2" value="surpriz">Sürpriz</label>
      </div>
      <button onclick="showFal()">Falımı Göster</button>
      <p class="message" id="falMsg"></p>
    </div>

    <div class="field">
      <input type="text" id="storyPassword" placeholder="Günün Parolası" />
      <button id="btnStory">Gönder</button>
      <p class="message" id="storyMsg"></p>
    </div>
    <div class="field">
      <input type="text" id="makeupPassword" placeholder="Makeup Odası Parolası" />
      <button id="btnMakeup">Gönder</button>
      <p class="message" id="makeupMsg"></p>
    </div>
    <div class="footer-note">💌 Bu uygulamamızı beğendiysen Instagram'da paylaşarak destek olabilirsin: <strong>@pandomimcafe</strong></div>
  </div>

  <script>
    const cooldownKeys = {
      story: "lastUseStory",
      makeup: "lastUseMakeup"
    };
    const cooldownTime = 3600000;

    const moodPool = {
      harika: ["Bugün senin için yıldızlar bile sıraya girmiş gibi. Enerjin etrafa yayılıyor."],
      yorgun: ["Yorgunluğun geçici, içindeki ışık ise kalıcı. Dinlenmeye zaman ayır."],
      duygusal: ["Kalbinin sesi bugün biraz daha güçlü. Hislerine güven."],
      karmasik: ["Zihnindeki karmaşa, yakında berraklaşacak. Biraz sabır yeter."]
    };
    const topicPool = {
      ask: ["Aşk konusunda beklenmedik bir gelişme seni şaşırtabilir."],
      kariyer: ["Kariyer yolunda yeni bir fırsat kapını çalmak üzere."],
      para: ["Maddi konularda şans senden yana olacak."],
      kendim: ["Kendine zaman ayırmak, sana tahmin ettiğinden daha iyi gelecek."]
    };
    const hopePool = {
      iliskiler: ["Yakın ilişkilerden alacağın destek seni mutlu edecek."],
      haber: ["Beklediğin güzel bir haber kapıda."],
      his: ["İç sesin seni doğru yöne yönlendirecek."],
      surpriz: ["Hiç beklemediğin birinden gelen sürpriz moralini yükseltecek."]
    };

    function isCooldownOver(key) {
      const last = localStorage.getItem(key);
      if (!last) return true;
      return Date.now() - parseInt(last) > cooldownTime;
    }

    function setCooldown(key) {
      localStorage.setItem(key, Date.now().toString());
    }

    function getRemainingTime(key) {
      const last = localStorage.getItem(key);
      if (!last) return 0;
      const diff = cooldownTime - (Date.now() - parseInt(last));
      return diff > 0 ? diff : 0;
    }

    function formatTime(ms) {
      const totalSeconds = Math.floor(ms / 1000);
      const minutes = Math.floor(totalSeconds / 60);
      const seconds = totalSeconds % 60;
      return `${minutes} dk ${seconds} sn`;
    }

    function showFal() {
      const a0 = document.querySelector('input[name=q0]:checked');
      const a1 = document.querySelector('input[name=q1]:checked');
      const a2 = document.querySelector('input[name=q2]:checked');
      const msg = document.getElementById('falMsg');
      if (!a0 || !a1 || !a2) return alert("Lütfen tüm soruları yanıtlayın.");

      const key = "lastUseFal";
      if (!isCooldownOver(key)) {
        msg.innerText = `⏳ Fal hakkınız doldu. Lütfen ${formatTime(getRemainingTime(key))} sonra tekrar deneyin.`;
        return;
      }

      const p1 = moodPool[a0.value][0];
      const p2 = topicPool[a1.value][0];
      const p3 = hopePool[a2.value][0];
      msg.innerText = `${p1}\n\n${p2}\n\n${p3} \n✨`;
      setCooldown(key);
    }

    const storyComplimentPool = [
      "Senin varlığın, gökyüzüne yazılmış bir şiir gibi. İç güzelliğin çevrene huzur yayıyor. Bugün seni gören herkes biraz daha mutlu olacak.",
      "Zekân, nezaketin ve özgün tarzın bir araya gelince ortaya gerçek bir sanat eseri çıkıyor. Sen, bulunduğun ortama anlam katan nadir insanlardansın.",
      "Senin gülümsemen, karanlık bir odayı bile aydınlatabilir. İyilik hâlin bulaşıcı, senin gibi insanlar dünyaya umut veriyor."
    ];

    const makeupComplimentPool = [
      "Tenin kadar zarif bir ruhun var. Gözlerinle değil kalbinle etkiliyorsun insanları.",
      "Güzelliğin sadece dış görünüşünde değil, iç dünyanda da saklı. İçten bir gülümsemen, tüm günün rengini değiştirebilir.",
      "Senin enerjin etrafındakileri de güzelleştiriyor. Kendin olmak bile yeterli, çünkü bu dünyaya renk katıyorsun."
    ];

    const dogruStoryParola = "umut2025";
    const dogruMakeupParola = "pandomim";

    function checkPassword(type) {
      const input = document.getElementById(type + 'Password').value.trim().toLowerCase();
      const output = document.getElementById(type + 'Msg');
      const key = cooldownKeys[type];
      if (!isCooldownOver(key)) {
        output.innerText = `⏳ İltifat hakkınız doldu. Lütfen ${formatTime(getRemainingTime(key))} sonra tekrar deneyin.`;
        return;
      }
      output.innerText = '';
      const correctPassword = type === 'story' ? dogruStoryParola : dogruMakeupParola;
      const compliments = type === 'story' ? storyComplimentPool : makeupComplimentPool;
      if (input === correctPassword) {
        const selected = [];
        const pool = [...compliments];
        for (let i = 0; i < 3 && pool.length; i++) {
          const idx = Math.floor(Math.random() * pool.length);
          selected.push(pool.splice(idx, 1)[0]);
        }
        output.innerText = selected.join("\n\n") + (type === 'story' ? "\n❤️🌟" : "\n💄💖");
        setCooldown(key);
      } else {
        output.innerText = 'Parola yanlış.';
      }
    }

    document.addEventListener("DOMContentLoaded", function () {
      document.getElementById("btnStory").addEventListener("click", () => checkPassword('story'));
      document.getElementById("btnMakeup").addEventListener("click", () => checkPassword('makeup'));
    });
  </script>
</body>
</html>
