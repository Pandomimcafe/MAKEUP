<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pandomim Cafe - Fal Sistemi</title>
  <style>
    body { font-family: 'Segoe UI', sans-serif; background: linear-gradient(120deg, #ffe3e3, #ffd9a8); margin:0; padding:0; display:flex; justify-content:center; align-items:flex-start; min-height:100vh; }
    .container { width:100%; max-width:600px; background:#fff; border-radius:16px; box-shadow:0 8px 24px rgba(0,0,0,0.1); padding:20px; margin-top:20px; }
    header { background:#ff7f50; color:#fff; text-align:center; padding:20px; border-radius:12px 12px 0 0; }
    header h1 { margin:0; font-size:1.8rem; }
    header p { margin:8px 0 0; font-size:1rem; }
    .welcome-btn { display:block; width:100%; padding:14px; background:#ff7f50; color:#fff; border:none; border-radius:8px; font-size:1rem; cursor:pointer; margin:12px 0; }
    .welcome-btn:hover { opacity:0.9; }
    .field { margin:16px 0; }
    label { display:block; margin-bottom:8px; font-weight:bold; }
    input[type="radio"] { margin-right:8px; }
    input[type="text"] { display:block; width:100%; padding:12px; border:2px solid #ddd; border-radius:8px; margin-bottom:12px; }
    button { display:block; width:100%; padding:14px; background:#ff7f50; color:#fff; border:none; border-radius:8px; font-size:1rem; cursor:pointer; margin:12px 0; }
    button:hover { opacity:0.9; }
    .message { margin-top:20px; font-size:1.1rem; line-height:1.6; white-space:pre-wrap; }
    .footer-note { text-align:center; margin-top:40px; font-size:0.9rem; color:#333; }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>ğŸ”® Pandomim DÃ¼nyasÄ±na HoÅŸ Geldiniz!</h1>
      <p>BugÃ¼n kalbinin sesi sana rehberlik edecek.</p>
    </header>

    <button class="welcome-btn" onclick="window.location.href='https://pandomimcafe.github.io/PANDOM-MCAFE/'">1. Pandomim Cafeâ€™yi bilmiyorum</button>
    <button class="welcome-btn" onclick="window.location.href='https://pandomimcafe.github.io/PANDOM-MCAFE/'">2. Duydum ama bakmaya gitmedim</button>
    <button class="welcome-btn" onclick="document.getElementById('falStep').style.display='block'">3. Biliyorum, fal bakmaya geldim :)</button>

    <div id="falStep" style="display:none">
      <div class="field">
        <label>1. BugÃ¼nkÃ¼ hÃ¢linizi nasÄ±l tanÄ±mlarsÄ±nÄ±z?</label>
        <label><input type="radio" name="q0" value="harika">Harika</label>
        <label><input type="radio" name="q0" value="yorgun">Yorgun</label>
        <label><input type="radio" name="q0" value="duygusal">Duygusal</label>
        <label><input type="radio" name="q0" value="karmasik">KarmaÅŸÄ±k</label>
      </div>
      <div class="field">
        <label>2. OdaklandÄ±ÄŸÄ±nÄ±z konu?</label>
        <label><input type="radio" name="q1" value="ask">AÅŸk</label>
        <label><input type="radio" name="q1" value="kariyer">Kariyer</label>
        <label><input type="radio" name="q1" value="para">Para</label>
        <label><input type="radio" name="q1" value="kendim">Kendim</label>
      </div>
      <div class="field">
        <label>3. Size ne umut veriyor?</label>
        <label><input type="radio" name="q2" value="iliskiler">Ä°liÅŸkiler</label>
        <label><input type="radio" name="q2" value="haber">Haber</label>
        <label><input type="radio" name="q2" value="his">His</label>
        <label><input type="radio" name="q2" value="surpriz">SÃ¼rpriz</label>
      </div>
      <button onclick="showFal()">FalÄ±mÄ± GÃ¶ster</button>
      <p class="message" id="falMsg"></p>
    </div>

    <div class="field">
      <input type="text" id="storyPassword" placeholder="GÃ¼nÃ¼n ParolasÄ±" />
      <button id="btnStory">GÃ¶nder</button>
      <p class="message" id="storyMsg"></p>
    </div>
    <div class="field">
      <input type="text" id="makeupPassword" placeholder="Makeup OdasÄ± ParolasÄ±" />
      <button id="btnMakeup">GÃ¶nder</button>
      <p class="message" id="makeupMsg"></p>
    </div>
    <div class="footer-note">ğŸ’Œ Bu uygulamamÄ±zÄ± beÄŸendiysen Instagram'da paylaÅŸarak destek olabilirsin: <strong>@pandomimcafe</strong></div>
  </div>

  <script>
    const cooldownKeys = {
      story: "lastUseStory",
      makeup: "lastUseMakeup"
    };
    const cooldownTime = 3600000;

    const moodPool = {
      harika: ["BugÃ¼n senin iÃ§in yÄ±ldÄ±zlar bile sÄ±raya girmiÅŸ gibi. Enerjin etrafa yayÄ±lÄ±yor."],
      yorgun: ["YorgunluÄŸun geÃ§ici, iÃ§indeki Ä±ÅŸÄ±k ise kalÄ±cÄ±. Dinlenmeye zaman ayÄ±r."],
      duygusal: ["Kalbinin sesi bugÃ¼n biraz daha gÃ¼Ã§lÃ¼. Hislerine gÃ¼ven."],
      karmasik: ["Zihnindeki karmaÅŸa, yakÄ±nda berraklaÅŸacak. Biraz sabÄ±r yeter."]
    };
    const topicPool = {
      ask: ["AÅŸk konusunda beklenmedik bir geliÅŸme seni ÅŸaÅŸÄ±rtabilir."],
      kariyer: ["Kariyer yolunda yeni bir fÄ±rsat kapÄ±nÄ± Ã§almak Ã¼zere."],
      para: ["Maddi konularda ÅŸans senden yana olacak."],
      kendim: ["Kendine zaman ayÄ±rmak, sana tahmin ettiÄŸinden daha iyi gelecek."]
    };
    const hopePool = {
      iliskiler: ["YakÄ±n iliÅŸkilerden alacaÄŸÄ±n destek seni mutlu edecek."],
      haber: ["BeklediÄŸin gÃ¼zel bir haber kapÄ±da."],
      his: ["Ä°Ã§ sesin seni doÄŸru yÃ¶ne yÃ¶nlendirecek."],
      surpriz: ["HiÃ§ beklemediÄŸin birinden gelen sÃ¼rpriz moralini yÃ¼kseltecek."]
    };

    function isCooldownOver(key) {
      const last = localStorage.getItem(key);
      if (!last) return true;
      return Date.now() - parseInt(last) > cooldownTime;
    }

    function setCooldown(key) {
      localStorage.setItem(key, Date.now().toString());
    }

    function getRemainingTime(key) {
      const last = localStorage.getItem(key);
      if (!last) return 0;
      const diff = cooldownTime - (Date.now() - parseInt(last));
      return diff > 0 ? diff : 0;
    }

    function formatTime(ms) {
      const totalSeconds = Math.floor(ms / 1000);
      const minutes = Math.floor(totalSeconds / 60);
      const seconds = totalSeconds % 60;
      return `${minutes} dk ${seconds} sn`;
    }

    function showFal() {
      const a0 = document.querySelector('input[name=q0]:checked');
      const a1 = document.querySelector('input[name=q1]:checked');
      const a2 = document.querySelector('input[name=q2]:checked');
      const msg = document.getElementById('falMsg');
      if (!a0 || !a1 || !a2) return alert("LÃ¼tfen tÃ¼m sorularÄ± yanÄ±tlayÄ±n.");

      const key = "lastUseFal";
      if (!isCooldownOver(key)) {
        msg.innerText = `â³ Fal hakkÄ±nÄ±z doldu. LÃ¼tfen ${formatTime(getRemainingTime(key))} sonra tekrar deneyin.`;
        return;
      }

      const p1 = moodPool[a0.value][0];
      const p2 = topicPool[a1.value][0];
      const p3 = hopePool[a2.value][0];
      msg.innerText = `${p1}\n\n${p2}\n\n${p3} \nâœ¨`;
      setCooldown(key);
    }

    const storyComplimentPool = [
      "Senin varlÄ±ÄŸÄ±n, gÃ¶kyÃ¼zÃ¼ne yazÄ±lmÄ±ÅŸ bir ÅŸiir gibi. Ä°Ã§ gÃ¼zelliÄŸin Ã§evrene huzur yayÄ±yor. BugÃ¼n seni gÃ¶ren herkes biraz daha mutlu olacak.",
      "ZekÃ¢n, nezaketin ve Ã¶zgÃ¼n tarzÄ±n bir araya gelince ortaya gerÃ§ek bir sanat eseri Ã§Ä±kÄ±yor. Sen, bulunduÄŸun ortama anlam katan nadir insanlardansÄ±n.",
      "Senin gÃ¼lÃ¼msemen, karanlÄ±k bir odayÄ± bile aydÄ±nlatabilir. Ä°yilik hÃ¢lin bulaÅŸÄ±cÄ±, senin gibi insanlar dÃ¼nyaya umut veriyor."
    ];

    const makeupComplimentPool = [
      "Tenin kadar zarif bir ruhun var. GÃ¶zlerinle deÄŸil kalbinle etkiliyorsun insanlarÄ±.",
      "GÃ¼zelliÄŸin sadece dÄ±ÅŸ gÃ¶rÃ¼nÃ¼ÅŸÃ¼nde deÄŸil, iÃ§ dÃ¼nyanda da saklÄ±. Ä°Ã§ten bir gÃ¼lÃ¼msemen, tÃ¼m gÃ¼nÃ¼n rengini deÄŸiÅŸtirebilir.",
      "Senin enerjin etrafÄ±ndakileri de gÃ¼zelleÅŸtiriyor. Kendin olmak bile yeterli, Ã§Ã¼nkÃ¼ bu dÃ¼nyaya renk katÄ±yorsun."
    ];

    const dogruStoryParola = "umut2025";
    const dogruMakeupParola = "pandomim";

    function checkPassword(type) {
      const input = document.getElementById(type + 'Password').value.trim().toLowerCase();
      const output = document.getElementById(type + 'Msg');
      const key = cooldownKeys[type];
      if (!isCooldownOver(key)) {
        output.innerText = `â³ Ä°ltifat hakkÄ±nÄ±z doldu. LÃ¼tfen ${formatTime(getRemainingTime(key))} sonra tekrar deneyin.`;
        return;
      }
      output.innerText = '';
      const correctPassword = type === 'story' ? dogruStoryParola : dogruMakeupParola;
      const compliments = type === 'story' ? storyComplimentPool : makeupComplimentPool;
      if (input === correctPassword) {
        const selected = [];
        const pool = [...compliments];
        for (let i = 0; i < 3 && pool.length; i++) {
          const idx = Math.floor(Math.random() * pool.length);
          selected.push(pool.splice(idx, 1)[0]);
        }
        output.innerText = selected.join("\n\n") + (type === 'story' ? "\nâ¤ï¸ğŸŒŸ" : "\nğŸ’„ğŸ’–");
        setCooldown(key);
      } else {
        output.innerText = 'Parola yanlÄ±ÅŸ.';
      }
    }

    document.addEventListener("DOMContentLoaded", function () {
      document.getElementById("btnStory").addEventListener("click", () => checkPassword('story'));
      document.getElementById("btnMakeup").addEventListener("click", () => checkPassword('makeup'));
    });
  </script>
</body>
</html>
